@inherits Umbraco.Web.Mvc.UmbracoViewPage
@using ContentModels = Umbraco.Web.PublishedModels;
@{
    Layout = null;
    if (Model.ContentType.Alias == "announcements")
    {
        Layout = "Master.cshtml";
    }
    var isEnglish = UmbracoContext.VariationContextAccessor?.VariationContext?.Culture == "en-US";

    var homepage = Model.AncestorOrSelf<ContentModels.Home>();
    var announcementsContent = homepage.Children<ContentModels.Announcements>().FirstOrDefault();
    var announcements = announcementsContent.Children<ContentModels.Announce>();
}

<!-- Start Announcements Area -->
<section class="news-area f5f6fa-bg-color pt-100 pb-70">
    <div class="container text-center">
        <div class="section-title">
            <span>@announcementsContent.SmallTitle</span>
            <h2>@announcementsContent.MainTitle</h2>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="single-news">
                    <a href="#">
                        <img src="@(announcements.ElementAt(0)?.Image)" style="height: 385px; object-fit: cover; object-position: right;" alt="Image">
                    </a>

                    <div class="news-content">
                        <span class="tag">@(announcements.ElementAt(0)?.Group)</span>

                        <a href="#">
                            <h3>@(announcements.ElementAt(0)?.Title)</h3>
                        </a>

                        <ul class="lessons">
                            <li class="">@(announcements.ElementAt(0)?.CreateDate.ToString("MMMM dd, yyyy"))</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="row mb-30">
                    <div class="col-lg-4 col-sm-4 pr-0">
                        <div class="news-img">
                            <img style="height:165px;width:190px;object-fit:cover;object-position:right" src="@(announcements.ElementAt(1)?.Image)" alt="Image">
                        </div>
                    </div>

                    <div class="col-lg-8 col-sm-8 pl-0">
                        <div class="news-listing-content">
                            <span class="tag">@(announcements.ElementAt(1)?.Group)</span>

                            <a href="#">
                                <h3>@(announcements.ElementAt(1)?.Title)</h3>
                            </a>

                            <ul class="lessons">
                                <li class="">@(announcements.ElementAt(1)?.CreateDate.ToString("MMMM dd, yyyy"))</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="row mb-30">
                    <div class="col-lg-4 col-sm-4 pr-0">
                        <div class="news-img">
                            <img style="height:165px;width:190px;object-fit:cover;" src="@(announcements.ElementAt(2)?.Image)" alt="Image">
                        </div>
                    </div>

                    <div class="col-lg-8 col-sm-8 pl-0">
                        <div class="news-listing-content">
                            <span class="tag">@(announcements.ElementAt(2)?.Group)</span>

                            <a href="#">
                                <h3>@(announcements.ElementAt(2)?.Title)</h3>
                            </a>

                            <ul class="lessons">
                                <li class="">@(announcements.ElementAt(2)?.CreateDate.ToString("MMMM dd, yyyy"))</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="row r-p-mb">
                    <div class="col-lg-4 col-sm-4 pr-0">
                        <div class="news-img">
                            <img style="height:165px;width:190px;object-fit:cover;" src="@(announcements.ElementAt(3)?.Image)" alt="Image">
                        </div>
                    </div>

                    <div class="col-lg-8 col-sm-8 pl-0">
                        <div class="news-listing-content">
                            <span class="tag">@(announcements.ElementAt(3)?.Group)</span>

                            <a href="#">
                                <h3>@(announcements.ElementAt(3)?.Title)</h3>
                            </a>

                            <ul class="lessons">
                                <li class="">@(announcements.ElementAt(3)?.CreateDate.ToString("MMMM dd, yyyy"))</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @if (Model.ContentType.Alias != "announcements")
        {
            <a href="@(isEnglish ? "/en" : "/ar")/announcements" class="default-btn">
                @Umbraco.GetDictionaryValue("ReadMore")
            </a>
        }
    </div>
</section>
<!-- End Announcements Area -->
